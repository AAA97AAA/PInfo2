<!-- Title of the page -->
<!-- <title>Profile - Academi-co</title> -->

<!-- Include JS scripts-->

<!-- Include CSS stylesheet-->
<link rel="stylesheet" type="text/css" href="CSS/style-profilePage.css"/>


<!-- Content of the page -->


<div class="w3-container w3-content" style="max-width:1400px;margin-top:80px">
        <!-- The Grid -->
        <div class="w3-row">
            <div id="mainProfilePageContent">
                <!--     Left Column -->
                <div class="w3-col m3">
                    <!--       Profile -->
                    <div class="w3-card w3-round w3-white">
                        <div class="w3-container">
                            <h4 class="w3-center">{{myProfileData.username}}</h4>
                            <p class="w3-center"><img ng-src="data:image/JPEG;base64,{{myProfileData.profilePicture.data}}" style="height:106px;width:106px" alt="Avatar"></p>
                        </div>
                    </div>
                    <br>
                    <div class="w3-card w3-round">
                        <div class="w3-white">
                            <!-- TODO: display only if it his profile -->
                            <button id="settingsButton"  class="w3-button w3-block w3-theme-l1 w3-left-align" ng-click="goSettings()"><i class="fa fa-cogs fa-fw"></i> Settings and preferences</button>
                        </div>
                    </div>
                    <br>
                    <!--     End Left Column -->
                </div>
                <!--     Middle Column -->
                <div class="w3-col m7">
                    <!-- Biography of the user -->
                    <div class="w3-row-padding">
                        <div class="w3-col m12">
                            <div class="w3-card w3-round w3-white">
                                <div class="w3-container w3-padding">
                                    <h4 class="w3-center"></h4>
                                    <h4>My biography</h4>
                                    <br>
                                    <p>{{myProfileData.bio}}</p>
                                    <div class="w3-row-padding" style="margin:0 -16px">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Central column after MyPosts -->
                    <div class="w3-container w3-card w3-theme-l5 w3-round w3-margin">
                        <br>
                        <h4>My Posts</h4>
                        &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp;
                        <div class="dropdown">
                            <button onclick="myFunction()" class="dropbtn">Sort by:</button>
                            <div id="myDropdown" class="dropdown-content">
                                <a href="#">Time</a>
                                <a href="#">Most liked</a>
                            </div>
                            <br>
                        </div>
                        <!-- thread/posts -->
                        <div class="w3-container w3-card w3-white w3-round w3-margin" ng-repeat="post in myProfileData.posts" >
                            <br>
                            <br>
                            <img ng-src="data:image/JPEG;base64,{{myProfileData.profilePicture.data}}" alt="Avatar" class="w3-left w3-margin-right" style="width:60px">
                            <span class="w3-right w3-opacity">{{post.creationDate | date:"dd/MM/yyyy 'at' h:mma"}}</span>
                            <h4>{{myProfileData.username}}</h4>
                            <div class="content">
                                <!-- score -->
                                <hr>
                                <div style="width:5%; float:right">
                                    <span style="color:gray"><i class="glyphicon glyphicon-upload"></i></span>
                                    <!-- TODO: ng-count -->
                                    <br> {{post.score}}
                                    <br>
                                    <span style="color:gray"><i class="glyphicon glyphicon-download"></i></span>
                                </div>
                            </div>
                            <!-- Posts -->
                            <div id="post" class="w3-row-padding" style="width:90%; float:left" >
                                <!-- this is not displayed if it is a reply (ng-if) -->
                                <div id="postTitle" ng-if= post.title>
                                    <p><b>{{post.title}}</b></p>
                                </div>
                                <p>{{post.content}}</p>
                                <!-- Tags -->
                                <!-- this is not displayed if it is a reply (ng-if) -->
                                <div class="w3-row-padding" style="margin:0 - 16px" ng-if= post.title>
                                    <hr style="height: 2px; color: #A9A9A9; background-color: #A9A9A9; width: 100%; border: none;">
                                    <button class="tag maintag">{{post.subject.name}}</button>
                                    <button class="tag secondarytag" ng-repeat="topic in post.topics">{{topic.name}}</button>
                                </div>
                                <br>
                            </div>
                        </div>
                        <br>
                        <!--     End Middle Column -->
                    </div>
                    <br><br><br><br>
                </div>
                <!--     Right Column -->
                <div class="w3-col m2 pub">
                    <div class="w3-card w3-center pub">
                        <!--       <a href="https://www.rolex.com" target="_blank"> -->
                        <img src="images/banAdNul.jpg" alt="Advertisement" style="width:200px; height:700px;">
                        <!--       </a> -->
                    </div>
                    <br>
                    <!--     End Right Column -->
                </div>
                <!-- End Page Container -->
            </div>
            <br>
        </div>
    </div>
    
    