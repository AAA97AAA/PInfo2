<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Title of the page -->
  <!-- TODO: add a title for the page -->
  <title>Profile Page - Academi-co</title>

  <!-- Useful scripts -->
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
  <script src="js/angular.min.js"></script>
  <script src="js/angular-resource.min.js"></script>
  <script src="js/jquery.min.js"></script>
  <script src="js/ui-bootstrap-tpls.min.js"></script>
  <script src="js/ng-grid.min.js"></script>


  <!-- Imported Stylesheet CSS dependencies TODO: put them in correct folder -->
   <!-- <link rel="stylesheet" href="CSS/bootstrap.min.css" /> -->

   <!-- <link rel="stylesheet" href="CSS/ng-grid.min.css" />  -->

  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-blue.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css" rel="stylesheet">

  <!-- Our stylesheet -->
  <!--<link rel="stylesheet" type="text/css" href="CSS/style-header.css"/>-->
  <link rel="stylesheet" type="text/css" href="CSS/style-header.css"/>
  <link rel="stylesheet" type="text/css" href="CSS/style-body.css"/>
  <link rel="stylesheet" type="text/css" href="CSS/style-footer.css"/>
  <link rel="stylesheet" type="text/css" href="CSS/style-resize.css"/>
  <link rel="stylesheet" type="text/css" href="CSS/style-searchbar.css"/>
  <link rel="stylesheet" type="text/css" href="CSS/style-resize-ad.css"/>
  <link rel="stylesheet" type="text/css" href="CSS/style-profilePage.css"/>

  <!-- Our Scripts TODO: add your personal js here -->
  <script src="js/modules/allModules.js"></script>
  <script src="js/modules/getRESTCall.js"></script>
  <script src="js/controllers/script-searchbar.js"></script>
  <!-- <script src="js/modules/Selim.js"></script> -->
  <script src="js/controllers/script-signInUp.js"></script>

  <!-- To have correct caracters for accented letters for example -->
  <meta charset="UTF-8">

  <!-- This is for the Responsive Website -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>
<!-- This body is the container for all the content -->
<body class="body" ng-app="academi-co">
  <!-- - - - - - - - - - - - - - -  Header: Navigation bar at the top  - - - - - - - - - - - - - - -->
  <header class='mainheader' ng-include="'header.html'"></header>
   <!-- - - - - - - - - - - - - - -  Content  - - - - - - - - - - - - - - -->

   <div class="w3-container w3-content" style="max-width:1400px;margin-top:80px">
   <!-- The Grid -->
   <div class="w3-row">

      <div id="mainProfilePageContent" ng-controller="profilePageLoad">
       <!--     Left Column -->
      <div class="w3-col m3">
         <!--       Profile -->
         <div class="w3-card w3-round w3-white">
            <div class="w3-container">
               <h4 class="w3-center">My Profile</h4>
               <p class="w3-center"><img ng-src="data:image/JPEG;base64,{{myProfileData.profilePicture.data}}" style="height:106px;width:106px" alt="Avatar"></p>
            </div>
         </div>
         <br>
         <div class="w3-card w3-round">
            <div class="w3-white">
              <!-- TODO: display only if it his profile -->
               <button onclick="myFunction('Demo1')" class="w3-button w3-block w3-theme-l1 w3-left-align"><i class="fa fa-cogs fa-fw"></i> Settings and preferences</button>
            </div>
         </div>
         <br>
         <!--     End Left Column -->
      </div>



         <!--     Middle Column -->
         <div class="w3-col m7">
            <!-- Biography of the user -->
            <div class="w3-row-padding">
               <div class="w3-col m12">
                  <div class="w3-card w3-round w3-white">
                     <div class="w3-container w3-padding">
                        <h4 class="w3-center"></h4>
                        <h4>My biography</h4>
                        <br>
                        <p>{{myProfileData.bio}}</p>
                        <div class="w3-row-padding" style="margin:0 -16px">
                        </div>
                     </div>
                  </div>
               </div>
            </div>


            <!-- Central column after MyPosts -->
            <div class="w3-container w3-card w3-theme-l5 w3-round w3-margin">
               <br>
               <h4>My Posts</h4>
               &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp;
               <div class="dropdown">
                  <button onclick="myFunction()" class="dropbtn">Sort by:</button>
                  <div id="myDropdown" class="dropdown-content">
                     <a href="#">Time</a>
                     <a href="#">Most commented</a>
                     <a href="#">Most liked</a>
                     <a href="#">Threads first</a>
                     <a href="#">Answers first</a>
                  </div>
                  <br>
               </div>


               <!-- thread/posts -->
               <div class="w3-container w3-card w3-white w3-round w3-margin" ng-repeat="post in myProfileData.posts" >
                  <br>
                  <br>
                  <img ng-src="data:image/JPEG;base64,{{myProfileData.profilePicture.data}}" alt="Avatar" class="w3-left w3-margin-right" style="width:60px">
                  <span class="w3-right w3-opacity">{{post.creationDate | date:"dd/MM/yyyy 'at' h:mma"}}</span>
                  <h4>{{myProfileData.username}}</h4>

                  <div class="content">
                     <!-- score -->
                     <hr>
                     <div style="width:5%; float:right">
                        <span style="color:gray"><i class="glyphicon glyphicon-upload"></i></span>
                        <!-- TODO: ng-count -->
                        <br> {{post.score}}
                        <br>
                        <span style="color:gray"><i class="glyphicon glyphicon-download"></i></span>
                     </div>
                  </div>
                  <!-- Posts -->
                  <div id="post" class="w3-row-padding" style="width:90%; float:left" >
                     <!-- this is not displayed if it is a reply (ng-if) -->
                     <div id="postTitle" ng-if= post.title>
                        <p><b>{{post.title}}</b></p>
                     </div>
                     <p>{{post.content}}</p>

                     <!-- Tags -->
                     <!-- this is not displayed if it is a reply (ng-if) -->
                     <div class="w3-row-padding" style="margin:0 - 16px" ng-if= post.title>
                     <hr style="height: 2px; color: #A9A9A9; background-color: #A9A9A9; width: 100%; border: none;">
                        <button class="tag maintag">{{post.subject.name}}</button>
                        <button class="tag secondarytag" ng-repeat="topic in post.topics">{{topic.name}}</button>
                     </div>
                     <br>
                  </div>
               </div>
               <br>
               <!--     End Middle Column -->
            </div>
            <br><br><br><br>
         </div>

         <!--     Right Column -->
         <div class="w3-col m2 pub">
            <div class="w3-card w3-center pub">
               <!--       <a href="https://www.rolex.com" target="_blank"> -->
               <img src="images/banAdNul.jpg" alt="Advertisement" style="width:200px; height:700px;">
               <!--       </a> -->
            </div>
            <br>
            <!--     End Right Column -->
         </div>

         <!-- End Page Container -->
      </div>
      <br>
   </div>
   </div>

  <!-- - - - - - - - - - - - - - -  Footer  - - - - - - - - - - - - - - -->
  <footer class="footer" ng-include="'footer.html'"></footer>

</body>

</html>
